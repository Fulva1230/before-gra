/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds

 */
import static fr.il_totore.manadrop.MinecraftDependencyHelper.*
import static fr.il_totore.manadrop.MinecraftRepositoryHelper.*

plugins {
    id 'java'
    id "fr.il_totore.manadrop" version "0.3-SNAPSHOT-fixed"
    id "com.github.johnrengelman.shadow" version "5.2.0"
}

group 'com.gmail.noxdawn'
version '0.1-ALPHA'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
    spigotRepository() //https://hub.spigotmc.org/nexus/content/repositories/snapshots/
    sonatypeRepository() //https://oss.sonatype.org/content/repositories/snapshots
}

dependencies {
    compileOnly spigotApiDependency('1.15.2') //org.spigotmc:spigot-api:1.15-R0.1-SNAPSHOT
    implementation group: 'org.springframework', name: 'spring-context-support', version: '5.2.3.RELEASE'
    implementation 'org.springframework:spring-aop:5.2.3.RELEASE'
    testImplementation('org.junit.jupiter:junit-jupiter:5.6.0')
    compileOnly 'org.projectlombok:lombok:1.18.12'
    annotationProcessor 'org.projectlombok:lombok:1.18.12'
    implementation 'org.aspectj:aspectjweaver:1.9.5'
    annotationProcessor 'org.aspectj:aspectjweaver:1.9.5'

    testCompileOnly 'org.projectlombok:lombok:1.18.12'
    testAnnotationProcessor 'org.projectlombok:lombok:1.18.12'
}

test {
    useJUnitPlatform()
}

task('debugCopy', type: Copy) {
    dependsOn shadowJar
    from('build/libs/')
    include('*-all.jar')
    into('D:\\Games\\spigot1.15.2 - debugplugin\\plugins')
}

task('debugCopyLinux', type: Copy) {
    dependsOn shadowJar
    from('build/libs/')
    include('*-all.jar')
    into('/run/media/fulva/Data/Games/spigot1.15.2 - debugplugin/plugins/')
}
